(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{3533:function(e,t,a){"use strict";a.r(t);var r,n,o,s,i,c,l,u,p=function(){var e=this,t=this,a=t.$createElement,r=t._self._c||a;return r("el-container",{staticClass:"fix-container"},[r("article",{staticClass:"fix-article"},[r("LogoWrap",{attrs:{size:"large",logo:t.logo}},[t._v("ElementUI Demo")]),r("el-tabs",{staticClass:"fix-tabs",attrs:{"before-leave":function(){return!e.isLogin}},model:{value:t.tabsActive,callback:function(e){t.tabsActive=e},expression:"tabsActive"}},[r("el-tab-pane",{attrs:{label:"账户密码登录",name:"password"}},[r("el-form",{ref:"password",attrs:{model:t.form.password}},[r("el-form-item",{attrs:{prop:"username",rules:{required:!0,message:"请输入用户名",trigger:"change"}}},[r("el-input",{attrs:{type:"text",placeholder:"admin",clearable:""},model:{value:t.form.password.username,callback:function(e){t.$set(t.form.password,"username",e)},expression:"form.password.username"}},[r("i",{staticClass:"el-input__icon el-icon-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"password",rules:{required:!0,message:"请输入密码",trigger:"change"}}},[r("el-input",{attrs:{type:"password",placeholder:"admin",clearable:""},model:{value:t.form.password.password,callback:function(e){t.$set(t.form.password,"password",e)},expression:"form.password.password"}},[r("i",{staticClass:"el-input__icon el-icon-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1)],1),r("el-tab-pane",{attrs:{label:"手机号登录",name:"captcha"}},[r("el-form",{ref:"captcha",attrs:{model:t.form.captcha}},[r("el-form-item",{attrs:{prop:"phone",rules:{validator:t.validatePhone,message:"请输入手机号",trigger:"change"}}},[r("el-input",{attrs:{type:"text",placeholder:"mobile number",clearable:""},model:{value:t.form.captcha.phone,callback:function(e){t.$set(t.form.captcha,"phone",e)},expression:"form.captcha.phone"}},[r("i",{staticClass:"el-input__icon el-icon-icon-mobile",attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"captcha",rules:{required:!0,message:"请输入验证码",trigger:"change"}}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:16,xs:14,sm:16}},[r("el-input",{attrs:{type:"text",placeholder:"captcha",clearable:""},model:{value:t.form.captcha.captcha,callback:function(e){t.$set(t.form.captcha,"captcha",e)},expression:"form.captcha.captcha"}},[r("i",{staticClass:"el-input__icon el-icon-icon-mail",attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-col",{attrs:{span:8,xs:10,sm:8}},[r("el-button",{directives:[{name:"countDown",rawName:"v-countDown",value:t.sendCaptcha,expression:"sendCaptcha"}],staticClass:"fix-button",attrs:{plain:""}},[t._v("获取验证码")])],1)],1)],1)],1)],1)],1),r("el-form",[r("el-form-item",{staticClass:"fix-form-item"},[r("el-checkbox",{model:{value:t.autoLogin,callback:function(e){t.autoLogin=e},expression:"autoLogin"}},[t._v("自动登录")]),r("el-button",{attrs:{type:"text"}},[t._v("忘记密码")])],1),r("el-form-item",[r("el-button",{staticClass:"fix-button",attrs:{type:"primary",loading:t.isLogin,disabled:t.checkFieldValue},on:{click:t.onSubmit}},[t._v("\n          登录\n        ")])],1)],1)],1)])},f=[],b=(a("8e6e"),a("ac6a"),a("456d"),a("6b54"),a("2397"),a("bd86")),m=a("5e15"),d=a("d225"),h=a("b0b4"),g=a("013f"),v=a("4e2b"),w=a("308d"),x=a("6bb5"),y=a("d360"),O=(a("77a7"),a("8bbf")),j=a.n(O),k=a("2fe1"),C=a("4bb5"),L=a("3719"),$={inserted:function(e,t,a){a.event$=function(){var a=e.innerText;t.value().then((function(t){for(var r=function(t){return function(){t<1?(e.classList.remove("is-disabled"),e.disabled=!1,e.innerText=a):(e.classList.add("is-disabled"),e.disabled=!0,e.innerText="".concat(t," s"))}},n=60;n>-1;n--)setTimeout(r(n),1e3*(60-n))}))},e.addEventListener("click",a.event$)},unbind:function(e,t,a){e.removeEventListener("click",a.event$)}};function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){Object(b["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e){var t=D();return function(){var a,r=Object(x["a"])(e);if(t){var n=Object(x["a"])(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Object(w["a"])(this,a)}}function D(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var E=Object(C["a"])("user"),R=/^1(3|4|5|6|7|8|9)\d{9}$/,S=(r=Object(k["b"])({components:{LogoWrap:L["a"]},directives:{countDown:$}}),n=E.Action,o=E.Action,r((u=function(e){Object(v["a"])(r,e);var t=A(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),e.logo=a("9d64"),e.autoLogin=!1,e.isLogin=!1,e.tabsActive="password",e.form={password:{username:"admin",password:"admin"},captcha:{phone:"",captcha:""}},Object(m["a"])(e,"login",c,Object(g["a"])(e)),Object(m["a"])(e,"getCaptcha",l,Object(g["a"])(e)),e.validatePhone=function(e,t,a){R.test(t)?a():a(new Error(e.message))},e}return Object(h["a"])(r,[{key:"onSubmit",value:function(){var e=this;this.$refs[this.tabsActive].validate((function(t){if(!t)return!1;e.isLogin=!0,e.login(P(P({},e.form[e.tabsActive]),{},{autoLogin:e.autoLogin})).then((function(t){e.$message.success(t.message),setTimeout((function(){return e.$router.push({path:"/"})}),500)})).catch((function(t){return e.$message.warning(t.message)})).finally((function(){e.isLogin=!1}))}))}},{key:"sendCaptcha",value:function(){var e=this;return this.$refs[this.tabsActive].validateField("phone"),new Promise((function(t,a){R.test(e.form.captcha.phone)&&(e.getCaptcha().then((function(t){e.$message({showClose:!0,message:"验证码已发送",type:"success"})})),t())}))}},{key:"checkFieldValue",get:function(){var e=this.form[this.tabsActive],t=!1;for(var a in e)if(""===e[a]){t=!0;break}return t}}]),r}(j.a),i=u,c=Object(y["a"])(i.prototype,"login",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=Object(y["a"])(i.prototype,"getCaptcha",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=i))||s),T=S,q=(a("842c"),a("2877")),z=Object(q["a"])(T,p,f,!1,null,"3eda1416",null);t["default"]=z.exports},4047:function(e,t,a){},"842c":function(e,t,a){"use strict";var r=a("4047"),n=a.n(r);n.a}}]);
//# sourceMappingURL=login-legacy.5eff81dd.js.map